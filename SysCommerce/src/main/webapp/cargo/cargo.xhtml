<!DOCTYPE html>
<ui:composition template="/index.xhtml"
xmlns="http://www.w3.org/1999/xhtml"
xmlns:f="http://xmlns.jcp.org/jsf/core"
xmlns:h="http://xmlns.jcp.org/jsf/html"
xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
xmlns:p="http://primefaces.org/ui">
<ui:define name="titulo">| Lista de Produtos</ui:define>
<ui:define name="css"><h:outputStylesheet library="css" name="cadproduto.css"/>
<h:outputStylesheet library="css" name="marca.css"/>
</ui:define>
<ui:define name="corpo">
<p:panel header="Lista de Cargo" style="border:0px;">
<h:form>


<p:dataTable id="tabela" value="#{cargoBean.listaDeCargos}" var="cargo" 
paginatorPosition="bottom" paginator="true" rows="6"
 emptyMessage="Nenhum Cargo Cadastrado">
<f:facet name="header">
<p:outputLabel value="Nome :"/>
<p:inputText size="40" placeholder="Digite o nome do cargo" value="#{cargoBean.pesq}">
    <f:ajax event="keyup" render="tabela"/>
</p:inputText>
</f:facet>

<p:column width="2" headerText="Id"> #{cargo.id} </p:column>
<p:column width="40" headerText="Nome"> #{cargo.nome} </p:column>
<p:column width="40" headerText="Departamento"> #{cargo.departamento.nome} </p:column>
<p:column width="5" headerText="Editar / Excluir">
<p:button outcome="altCargo" icon="ui-icon-pencil">
<f:param name="cargoId" value="#{cargo.id}"/>
</p:button>

<p:commandButton icon="ui-icon-trash" action="#{cargoBean.excluir(cargo)}" update="tabela">
<p:confirm header="Confirmação"  message="Deseja excluir o cargo ?" icon="ui-icon-alert"/>
</p:commandButton>


<p:confirmDialog global="true">
<p:commandButton value="Sim"  styleClass="ui-confirmdialog-yes"/>
<p:commandButton value="Não" styleClass="ui-confirmdialog-no" />
</p:confirmDialog>

</p:column>
</p:dataTable>
<br/>
<p:commandButton value="Incluir Novo" action="cadastroCargo?faces-redirect=true" icon="ui-icon-plusthick"/>
<p:commandButton value="Imprimir" icon="ui-icon-print"/>
</h:form>
</p:panel>
</ui:define>
</ui:composition>